<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/automation_edit_graph"
    app:startDestination="@id/automationEditHubFragment">

    <!-- Argomento passato al grafo -->
    <argument
        android:name="automationId"
        app:argType="string" />

    <fragment
        android:id="@+id/automationEditHubFragment"
        android:name="com.ndumas.appdt.presentation.automation.edit.AutomationEditHubFragment"
        android:label="Modifica automazione"
        tools:layout="@layout/fragment_automation_hub">

        <argument
            android:name="automationId"
            app:argType="string" />

        <action
            android:id="@+id/action_editHub_to_triggerSelector"
            app:destination="@id/editTriggerSelectorFragment"
            app:enterAnim="@anim/nav_default_enter_anim"
            app:exitAnim="@anim/nav_default_exit_anim"
            app:popEnterAnim="@anim/nav_default_pop_enter_anim"
            app:popExitAnim="@anim/nav_default_pop_exit_anim" />

        <action
            android:id="@+id/action_editHub_to_actionSelector"
            app:destination="@id/editActionSelectorFragment"
            app:enterAnim="@anim/nav_default_enter_anim"
            app:exitAnim="@anim/nav_default_exit_anim"
            app:popEnterAnim="@anim/nav_default_pop_enter_anim"
            app:popExitAnim="@anim/nav_default_pop_exit_anim" />

        <action
            android:id="@+id/action_editHub_to_name"
            app:destination="@id/editAutomationNameFragment"
            app:enterAnim="@anim/nav_default_enter_anim"
            app:exitAnim="@anim/nav_default_exit_anim"
            app:popEnterAnim="@anim/nav_default_pop_enter_anim"
            app:popExitAnim="@anim/nav_default_pop_exit_anim" />
    </fragment>

    <!-- Trigger Selector - usa Edit version -->
    <fragment
        android:id="@+id/editTriggerSelectorFragment"
        android:name="com.ndumas.appdt.presentation.automation.edit.EditTriggerSelectorFragment"
        android:label="Se..."
        tools:layout="@layout/fragment_trigger_selector">

        <action
            android:id="@+id/action_selector_to_timeTrigger"
            app:destination="@id/editTimeTriggerFragment" />

        <action
            android:id="@+id/action_selector_to_sunTrigger"
            app:destination="@id/editSunTriggerFragment" />

        <action
            android:id="@+id/action_selector_to_deviceTrigger"
            app:destination="@id/editDeviceTriggerFragment" />
    </fragment>

    <!-- Time Trigger - usa Edit version -->
    <fragment
        android:id="@+id/editTimeTriggerFragment"
        android:name="com.ndumas.appdt.presentation.automation.edit.EditTimeTriggerFragment"
        android:label="Orario"
        tools:layout="@layout/fragment_trigger_time" />

    <!-- Sun Trigger - usa Edit version -->
    <fragment
        android:id="@+id/editSunTriggerFragment"
        android:name="com.ndumas.appdt.presentation.automation.edit.EditSunTriggerFragment"
        android:label="Alba o Tramonto"
        tools:layout="@layout/fragment_trigger_sun" />

    <!-- Device Trigger - TODO: creare EditDeviceTriggerFragment se necessario -->
    <fragment
        android:id="@+id/editDeviceTriggerFragment"
        android:name="com.ndumas.appdt.presentation.automation.create.trigger.DeviceTriggerFragment"
        android:label="Stato Dispositivo"
        tools:layout="@layout/fragment_trigger_device" />

    <!-- Action Selector - usa Edit version -->
    <fragment
        android:id="@+id/editActionSelectorFragment"
        android:name="com.ndumas.appdt.presentation.automation.edit.EditActionSelectorFragment"
        android:label="Allora...">

        <action
            android:id="@+id/action_selector_to_deviceAction"
            app:destination="@id/editDeviceActionFragment"
            app:enterAnim="@anim/nav_default_enter_anim"
            app:exitAnim="@anim/nav_default_exit_anim"
            app:popEnterAnim="@anim/nav_default_pop_enter_anim"
            app:popExitAnim="@anim/nav_default_pop_exit_anim">
            <argument
                android:name="deviceId"
                app:argType="string" />
            <argument
                android:name="deviceType"
                app:argType="string" />
        </action>
    </fragment>

    <!-- Device Action - usa Edit version -->
    <fragment
        android:id="@+id/editDeviceActionFragment"
        android:name="com.ndumas.appdt.presentation.automation.edit.EditDeviceActionFragment"
        android:label="Configura Azione">

        <argument
            android:name="deviceId"
            app:argType="string" />
        <argument
            android:name="deviceType"
            app:argType="string" />

        <action
            android:id="@+id/action_deviceActionFragment_to_paletteBottomSheet"
            app:destination="@id/editPaletteBottomSheet"
            app:enterAnim="@anim/nav_default_enter_anim"
            app:exitAnim="@anim/nav_default_exit_anim"
            app:popEnterAnim="@anim/nav_default_pop_enter_anim"
            app:popExitAnim="@anim/nav_default_pop_exit_anim" />
    </fragment>

    <fragment
        android:id="@+id/editAutomationNameFragment"
        android:name="com.ndumas.appdt.presentation.automation.edit.AutomationEditNameFragment"
        android:label="Nome Automazione" />

    <dialog
        android:id="@+id/editPaletteBottomSheet"
        android:name="com.ndumas.appdt.presentation.control.light.PaletteBottomSheet"
        android:label="Seleziona Colore"
        tools:layout="@layout/bottom_sheet_palette">

        <argument
            android:name="deviceId"
            app:argType="string" />

        <argument
            android:name="startTab"
            app:argType="integer"
            android:defaultValue="0" />
    </dialog>

</navigation>

